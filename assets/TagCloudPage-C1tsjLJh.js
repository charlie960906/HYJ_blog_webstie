import{d as o,r,j as e,L as m}from"./index-BbhO7STa.js";import{A as d}from"./arrow-left-B9cytGTS.js";import{T as x}from"./tag-By_jQ1tB.js";const h=async()=>{const a=await o(),l={};a.forEach(t=>{t.tags.forEach(i=>{l[i]=(l[i]||0)+1})});const n=Object.values(l),c=Math.max(...n),s=Math.min(...n);return Object.entries(l).map(([t,i])=>({name:t,count:i,size:.8+(i-s)/(c-s)*2})).sort((t,i)=>i.count-t.count)},N=()=>{const[a,l]=r.useState([]),[n,c]=r.useState(!0);return r.useEffect(()=>{(async()=>{try{const t=await h();l(t)}catch(t){console.error("Failed to load tags:",t)}finally{c(!1)}})()},[]),n?e.jsx("div",{className:"min-h-screen flex items-center justify-center pt-20",children:e.jsxs("div",{className:"glassmorphism-card p-8 text-center",children:[e.jsx("div",{className:"spinner mx-auto mb-4"}),e.jsx("p",{className:"text-white/80",children:"載入標籤中..."})]})}):e.jsx("div",{className:"min-h-screen pt-20 px-4",children:e.jsxs("div",{className:"container mx-auto max-w-6xl",children:[e.jsxs(m,{to:"/",className:"inline-flex items-center text-white/80 hover:text-white transition-colors mb-8",children:[e.jsx(d,{className:"w-4 h-4 mr-2"}),"返回首頁"]}),e.jsxs("div",{className:"glassmorphism-card p-8",children:[e.jsxs("div",{className:"flex items-center mb-8",children:[e.jsx(x,{className:"w-8 h-8 text-blue-400 mr-3"}),e.jsx("h1",{className:"text-4xl font-bold text-white",children:"標籤雲"})]}),e.jsx("div",{className:"tag-cloud-container",children:a.map(s=>e.jsxs(m,{to:`/?tag=${encodeURIComponent(s.name)}`,className:"tag-cloud-item",style:{fontSize:`${s.size}rem`,opacity:Math.max(.6,s.count/Math.max(...a.map(t=>t.count)))},children:[s.name,e.jsxs("span",{className:"tag-count",children:["(",s.count,")"]})]},s.name))}),e.jsx("div",{className:"mt-8 pt-6 border-t border-white/20",children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[e.jsxs("div",{className:"glassmorphism-mini p-4 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:a.length}),e.jsx("div",{className:"text-sm text-white/70",children:"總標籤數"})]}),e.jsxs("div",{className:"glassmorphism-mini p-4 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:a.reduce((s,t)=>s+t.count,0)}),e.jsx("div",{className:"text-sm text-white/70",children:"標籤使用次數"})]}),e.jsxs("div",{className:"glassmorphism-mini p-4 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:Math.max(...a.map(s=>s.count))}),e.jsx("div",{className:"text-sm text-white/70",children:"最高使用次數"})]}),e.jsxs("div",{className:"glassmorphism-mini p-4 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:a.filter(s=>s.count>1).length}),e.jsx("div",{className:"text-sm text-white/70",children:"熱門標籤"})]})]})}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"所有標籤"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a.sort((s,t)=>s.name.localeCompare(t.name)).map(s=>e.jsxs(m,{to:`/?tag=${encodeURIComponent(s.name)}`,className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-500/20 text-blue-100 border border-blue-400/30 hover:bg-blue-500/30 transition-all duration-200",children:[s.name," (",s.count,")"]},`list-${s.name}`))})]})]})]})})};export{N as default};
