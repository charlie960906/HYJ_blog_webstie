import{d as h,r as o,j as e,L as c}from"./index-DB4HyaVl.js";import{A as p}from"./arrow-left-LDAZXCRd.js";import{T as u}from"./tag-Ddr2I7eJ.js";const j=async()=>{const r=await h(),l={};r.forEach(t=>{t.tags.forEach(a=>{l[a]=(l[a]||0)+1})});const i=Object.values(l),n=Math.max(...i),s=Math.min(...i);return Object.entries(l).map(([t,a])=>({name:t,count:a,size:1.2+(a-s)/(n-s)*1})).sort((t,a)=>a.count-t.count)},v=()=>{const[r,l]=o.useState([]),[i,n]=o.useState(!0);return o.useEffect(()=>{(async()=>{try{const t=await j(),a=["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD","#98D8C8","#F7DC6F","#BB8FCE","#85C1E9","#F8C471","#82E0AA","#F1948A","#85C1E9","#D7BDE2","#A3E4D7","#F9E79F","#D5A6BD","#AED6F1","#A9DFBF"],d=t.map((m,x)=>({...m,color:a[x%a.length]}));l(d)}catch(t){console.error("Failed to load tags:",t)}finally{n(!1)}})()},[]),i?e.jsx("div",{className:"min-h-screen flex items-center justify-center pt-24",children:e.jsxs("div",{className:"glassmorphism-card p-8 text-center",children:[e.jsx("div",{className:"spinner mx-auto mb-4"}),e.jsx("p",{className:"text-white/80",children:"載入標籤中..."})]})}):e.jsx("div",{className:"min-h-screen pt-24 px-4",children:e.jsxs("div",{className:"container mx-auto max-w-6xl",children:[e.jsxs(c,{to:"/",className:"inline-flex items-center text-white/80 hover:text-white transition-colors mb-8",children:[e.jsx(p,{className:"w-4 h-4 mr-2"}),"返回首頁"]}),e.jsxs("div",{className:"glassmorphism-card p-8",children:[e.jsxs("div",{className:"flex items-center mb-8",children:[e.jsx(u,{className:"w-8 h-8 text-blue-400 mr-3"}),e.jsx("h1",{className:"text-4xl font-bold text-white",children:"標籤雲"})]}),e.jsxs("div",{className:"relative w-full min-h-96 bg-gradient-to-br from-purple-900/20 via-blue-900/20 to-indigo-900/20 rounded-2xl p-8 border border-white/10",children:[e.jsx("div",{className:"absolute inset-0 opacity-10 rounded-2xl",children:e.jsx("div",{className:"w-full h-full",style:{backgroundImage:`
                  radial-gradient(circle at 25% 25%, rgba(59, 130, 246, 0.3) 0%, transparent 50%),
                  radial-gradient(circle at 75% 75%, rgba(139, 92, 246, 0.3) 0%, transparent 50%)
                `}})}),e.jsx("div",{className:"relative z-10 flex flex-wrap items-center justify-center gap-4 min-h-80",children:r.map((s,t)=>e.jsx(c,{to:`/?tag=${encodeURIComponent(s.name)}`,className:"transition-all duration-300 hover:scale-110 cursor-pointer select-none inline-block",style:{fontSize:`${Math.min(Math.max(s.size,1.2),2.2)}rem`,color:s.color,fontWeight:s.count>2?"600":"500",textShadow:"0 2px 8px rgba(0,0,0,0.5)",lineHeight:"1.3",padding:"0.5rem 1rem",borderRadius:"1rem",background:`${s.color}15`,backdropFilter:"blur(5px)",border:`1px solid ${s.color}30`,margin:"0.25rem",whiteSpace:"nowrap"},title:`${s.name} (${s.count} 篇文章)`,children:s.name},s.name))})]}),e.jsx("div",{className:"mt-8 pt-6 border-t border-white/20",children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[e.jsxs("div",{className:"glassmorphism-mini p-4 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:r.length}),e.jsx("div",{className:"text-sm text-white/70",children:"總標籤數"})]}),e.jsxs("div",{className:"glassmorphism-mini p-4 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:r.reduce((s,t)=>s+t.count,0)}),e.jsx("div",{className:"text-sm text-white/70",children:"標籤使用次數"})]}),e.jsxs("div",{className:"glassmorphism-mini p-4 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:Math.max(...r.map(s=>s.count))}),e.jsx("div",{className:"text-sm text-white/70",children:"最高使用次數"})]}),e.jsxs("div",{className:"glassmorphism-mini p-4 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:r.filter(s=>s.count>1).length}),e.jsx("div",{className:"text-sm text-white/70",children:"熱門標籤"})]})]})}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"所有標籤"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:r.sort((s,t)=>t.count-s.count).map(s=>e.jsxs(c,{to:`/?tag=${encodeURIComponent(s.name)}`,className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium transition-all duration-200 hover:scale-105",style:{backgroundColor:`${s.color}20`,color:s.color,border:`1px solid ${s.color}40`},children:[s.name," (",s.count,")"]},`list-${s.name}`))})]})]})]})})};export{v as default};
