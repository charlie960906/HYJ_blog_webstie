const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/RelatedPosts-B98LOlr2.js","assets/index-BbhO7STa.js","assets/index-Dd_eGLbx.css"])))=>i.map(i=>d[i]);
import{c as p,r as o,_ as b,j as e,L as m,C as N,u as v,a as y,b as w,g as P,d as k,f as _,t as C}from"./index-BbhO7STa.js";import{T as j}from"./tag-By_jQ1tB.js";import{C as S}from"./calendar-C84xAGci.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=p("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=p("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),T=o.lazy(()=>b(()=>import("./RelatedPosts-B98LOlr2.js"),__vite__mapDeps([0,1,2]))),M=({post:s,isLazy:t=!1})=>{const n=()=>{typeof gtag<"u"&&gtag("event","click",{event_category:"engagement",event_label:"read_more",value:s.slug})},x=a=>new Date(a).toLocaleDateString("zh-TW",{year:"numeric",month:"long",day:"numeric"}),h=a=>{const r=a.split(" ").length;return Math.ceil(r/200)};return e.jsx("article",{className:"glassmorphism-card p-6 hover:scale-105 transition-all duration-300 group",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex flex-wrap gap-2",children:s.tags.map(a=>e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-500/20 text-blue-100 border border-blue-400/30",children:[e.jsx(j,{className:"w-3 h-3 mr-1"}),a]},a))}),e.jsx("h2",{className:"text-2xl font-bold text-white group-hover:text-blue-300 transition-colors duration-200",children:e.jsx(m,{to:`/post/${s.slug}`,children:s.title})}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-white/70",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(S,{className:"w-4 h-4 mr-1"}),x(s.date)]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(N,{className:"w-4 h-4 mr-1"}),h(s.content)," 分鐘閱讀"]})]}),e.jsx("p",{className:"text-white/80 line-clamp-3 leading-relaxed",children:s.summary}),e.jsx("div",{className:"flex justify-between items-center pt-4",children:e.jsxs(m,{to:`/post/${s.slug}`,onClick:n,className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-full hover:from-blue-600 hover:to-purple-600 transition-all duration-200 group/btn",children:["閱讀更多",e.jsx(L,{className:"w-4 h-4 ml-2 group-hover/btn:translate-x-1 transition-transform"})]})}),t&&e.jsx(o.Suspense,{fallback:e.jsx("div",{className:"animate-pulse bg-white/10 h-24 rounded-lg"}),children:e.jsx(T,{currentPost:s})})]})})},E=()=>{const s=[{name:"資訊",count:15,color:"bg-blue-500/20 text-blue-100 border-blue-400/30"},{name:"產品評價",count:12,color:"bg-green-500/20 text-green-100 border-green-400/30"},{name:"股市財經",count:8,color:"bg-yellow-500/20 text-yellow-100 border-yellow-400/30"},{name:"技術",count:10,color:"bg-purple-500/20 text-purple-100 border-purple-400/30"},{name:"生活",count:6,color:"bg-pink-500/20 text-pink-100 border-pink-400/30"},{name:"旅行",count:4,color:"bg-teal-500/20 text-teal-100 border-teal-400/30"}];return e.jsxs("aside",{className:"space-y-6",children:[e.jsxs("div",{className:"glassmorphism-card p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(R,{className:"w-5 h-5 text-blue-400 mr-2"}),e.jsx("h3",{className:"text-xl font-semibold text-white",children:"關於我"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-bold text-2xl mx-auto",children:"HYJ"}),e.jsx("p",{className:"text-white/80 text-sm text-center leading-relaxed",children:"熱愛分享知識與經驗的部落客，專注於資訊科技、產品評測、股市分析等領域。"}),e.jsx("div",{className:"flex justify-center",children:e.jsx(m,{to:"/about",className:"text-blue-400 hover:text-blue-300 text-sm font-medium transition-colors",children:"了解更多 →"})})]})]}),e.jsxs("div",{className:"glassmorphism-card p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(j,{className:"w-5 h-5 text-blue-400 mr-2"}),e.jsx("h3",{className:"text-xl font-semibold text-white",children:"標籤雲"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.map(t=>e.jsxs(m,{to:`/tags?tag=${encodeURIComponent(t.name)}`,className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border transition-all duration-200 hover:scale-105 ${t.color}`,children:[t.name," (",t.count,")"]},t.name))}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx(m,{to:"/tags",className:"text-blue-400 hover:text-blue-300 text-sm font-medium transition-colors",children:"查看所有標籤 →"})})]})]})},$=()=>{const[s,t]=o.useState([]),[n,x]=o.useState([]),[h,a]=o.useState(!0),[u]=v(),{category:r}=y(),c=u.get("search"),d=u.get("tag");if(o.useEffect(()=>{(async()=>{try{a(!0);let l;r?l=await P(r):l=await k(),t(l);const g=_(l,{search:c,tag:d});x(g),c&&C(c,g.length)}catch(l){console.error("載入文章失敗:",l)}finally{a(!1)}})()},[c,d,r]),h)return e.jsx(w,{});const f=i=>({information:"資訊文章",reviews:"產品評價",finance:"股市財經",travel:"旅行",life:"生活"})[i]||i;return e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[r&&e.jsxs("div",{className:"glassmorphism-card p-6 mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:f(r)}),e.jsxs("p",{className:"text-white/80",children:["共 ",n.length," 篇文章"]})]}),c&&e.jsx("div",{className:"glassmorphism-card p-4 mb-8",children:e.jsxs("p",{className:"text-white/80",children:['搜尋 "',c,'" 的結果：',n.length," 篇文章"]})}),d&&e.jsx("div",{className:"glassmorphism-card p-4 mb-8",children:e.jsxs("p",{className:"text-white/80",children:['標籤 "',d,'" 的文章：',n.length," 篇"]})}),e.jsx("div",{className:"space-y-8",children:n.length===0?e.jsxs("div",{className:"glassmorphism-card p-8 text-center",children:[e.jsx("p",{className:"text-white/80 text-lg",children:"沒有找到相關文章"}),(c||d||r)&&e.jsx("p",{className:"text-white/60 text-sm mt-2",children:"嘗試調整搜尋條件或瀏覽所有文章"})]}):n.map((i,l)=>e.jsx(M,{post:i,isLazy:l>2},i.slug))})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsx(E,{})})]})})};export{$ as default};
